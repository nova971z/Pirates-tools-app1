/* =========================================================
   Pirates Tools — styles.css (FULL, fusion + Android fixes)
   ========================================================= */

/* Thème */
:root{
  --bg:#0a0f14; --panel:#0e151c; --card:#121b24; --fg:#e6edf5; --muted:#9fb4c5; --border:#22303b;
  --brand:#19d3ff; --brand-2:#00e1b4; --wa-1:#25d366; --wa-2:#128c7e;
  --radius:14px; --shadow:0 10px 24px rgba(0,0,0,.35);

  /* marges dynamiques pilotées par JS */
  --listGap: 14vh;

  /* >>> ajout pour l’effet de sortie (tools) <<< */
  --tool-exit-dx: 60px;                       /* distance du glissement (px) */
  --tool-exit-dur: 420ms;                     /* durée de l’animation (ms) */
  --tool-exit-ease: cubic-bezier(.22,.61,.36,1); /* courbe d’accélération */
}

*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0;
  background:
    radial-gradient(60% 40% at 50% 30%, rgba(25,211,255,.08), transparent 70%),
    linear-gradient(180deg, #0a0f14 0%, #06141b 100%);
  color:var(--fg);
  font:400 16px/1.6 system-ui,-apple-system,BlinkMacSystemFont,"Inter","Segoe UI",Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
a{color:inherit;text-decoration:none}
a:focus-visible,button:focus-visible{outline:2px solid var(--brand); outline-offset:2px; border-radius:10px}
.container{width:min(1100px,92vw); margin:0 auto; position:relative; z-index:2}

/* ================= TOPBAR ================= */
.topbar{
  position:sticky; top:0; inset-inline:0; z-index:100;
  display:grid; grid-template-columns:auto auto 1fr auto;
  align-items:center; gap:.8rem;
  padding:.7rem .9rem;
  background:rgba(10,15,20,.72);
  -webkit-backdrop-filter:blur(10px); backdrop-filter:blur(10px);
  border-bottom:1px solid var(--border);
}
.topbar-logo-link{display:flex; align-items:center}
.topbar-logo{height:28px; width:auto; display:block; filter:drop-shadow(0 2px 6px rgba(0,0,0,.35))}
@media (max-width:768px){ .topbar-logo{height:24px} }

.brand{font-weight:800; letter-spacing:.2px; color:#fff}
.nav{display:flex; gap:.5rem; justify-content:center}
.chip{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.42rem .9rem; border-radius:999px;
  background:rgba(255,255,255,.04); border:1px solid var(--border); color:#d9e3ec;
  box-shadow: inset 0 -1px 0 rgba(255,255,255,.05);
}
.chip:hover{background:rgba(255,255,255,.07)}
.cta{display:flex; gap:.6rem; align-items:center}
.btn{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.58rem .9rem; border-radius:12px; font-weight:700;
  color:#001018; border:0; cursor:pointer; box-shadow:var(--shadow);
  white-space:nowrap;           /* évite que le numéro se mette en colonne */
  flex-shrink:0;
}
.btn-call{ background:linear-gradient(90deg, var(--brand) 0%, #7cf4ff 100%) }
.btn-wa{   background:linear-gradient(90deg, var(--wa-1) 0%, var(--wa-2) 100%); color:#042016}
.btn:active{transform:translateY(1px)}
@media (max-width:960px){ .topbar{grid-template-columns:auto 1fr auto; gap:.6rem} .nav{display:none} }

/* ================= HERO (zoom + fondu) ================= */
.hero-full{
  position:relative;
  height:100vh;               /* fallback */
  height:100svh;              /* Android/IOS barre dynamique */
  display:grid; place-items:center;
  pointer-events:none;        /* ne bloque pas les clics des cartes */
  isolation:isolate;
  z-index:30;                 /* au-dessus au début */
}
.hero-logo{
  width:min(78vmin,680px); height:auto;
  transform:translate3d(0, var(--heroY, 0), 0) scale(var(--heroScale, 1));
  opacity:var(--heroAlpha, 1);
  transform-origin:center;
  will-change:transform, opacity;
  filter:drop-shadow(0 22px 44px rgba(0,0,0,.45));
  transition:opacity .18s linear;
}
.hero-fade{
  position:absolute; inset:auto 0 0 0; height:26vh;
  background:linear-gradient(180deg, rgba(10,15,20,0), rgba(10,15,20,.85) 65%, var(--bg) 100%);
  pointer-events:none;
  z-index:-1;                 /* derrière le logo ET la liste */
}
.hero-full.hero-out{ z-index:-1 } /* passe sous la liste quand l'anim est finie */

/* ====== Toolbar ====== */
.toolbar{
  position:relative; z-index:20;
  width:min(1100px,92vw); margin:0 auto 1rem;
  padding:.4rem 0;
  display:grid; grid-template-columns:1fr 140px; gap:.6rem;
  /* garde toujours un espace sous le hero, rétrécit avec le scroll */
  margin-top: calc(var(--listGap) * .55);
}
.search,.select{
  background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
  border:1px solid var(--border); border-radius:12px; color:var(--fg);
  padding:.85rem .9rem; box-shadow: inset 0 1px 0 rgba(255,255,255,.04);
}
.search::placeholder{color:#7f94a5}

/* ====== Liste / Cartes ====== */
.list{
  display:grid; gap:1rem;
  position:relative; z-index:10;
}
.list::before{
  content:""; display:block; height:var(--listGap); transition:height .22s ease-out;
}

.card{
  background:var(--card); border:1px solid var(--border); border-radius:var(--radius);
  box-shadow:var(--shadow); overflow:hidden; position:relative;
}
.card .head{
  display:flex; align-items:center; justify-content:space-between;
  padding:1rem 1.1rem .6rem; border-bottom:1px solid rgba(255,255,255,.04);
}
.title{margin:0; font-size:1.05rem}
.badge{
  display:inline-flex; align-items:center; padding:.35rem .7rem;
  border-radius:999px; font-weight:700; color:#cfeaf8;
  background:linear-gradient(180deg, rgba(25,211,255,.18), rgba(25,211,255,.06));
  border:1px solid rgba(25,211,255,.35);
}
.specs{display:flex; flex-wrap:wrap; gap:.5rem 1rem; padding:1rem 1.1rem}
.actions{display:flex; gap:.6rem; padding:0 1.1rem 1.1rem}
.btn.primary{ background:linear-gradient(90deg, var(--brand) 0%, var(--brand-2) 100%); color:#001018; font-weight:800; padding:.7rem .95rem; border-radius:12px }

/* ====== Avis / Footer ====== */
.ratings{
  margin:2rem auto 1rem; width:min(1100px,92vw);
  background:var(--panel); border:1px solid var(--border); border-radius:var(--radius);
  padding:1rem 1.1rem; box-shadow:var(--shadow)
}
.ratings h2{margin:0 0 .5rem; font-size:1.05rem}
.ratings__list{margin:0; padding-left:1.1rem}

.foot{
  width:min(1100px,92vw); margin:1.5rem auto 3.5rem; color:var(--muted);
  border-top:1px solid var(--border); padding-top:1rem; font-size:.95rem;
}
.foot__grid{display:grid; gap:1.2rem; grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}

/* ====== Dock mobile ====== */
.dock{
  position:fixed; left:50%; bottom:14px; transform:translateX(-50%);
  display:flex; gap:.6rem; align-items:center;
  padding:.4rem .5rem; border-radius:999px; z-index:110;
  background:rgba(10,15,20,.66); -webkit-backdrop-filter:blur(8px); backdrop-filter:blur(8px);
  border:1px solid var(--border); box-shadow:var(--shadow);
}
.dock__btn{
  width:40px; height:40px; display:grid; place-items:center; border-radius:12px;
  background:rgba(255,255,255,.06); color:#d9e9f2; border:1px solid rgba(255,255,255,.08)
}
.dock__btn:active{transform:translateY(1px)}
.dock__btn:nth-child(1){background:linear-gradient(90deg, var(--brand) 0%, #7cf4ff 100%); color:#001018}
.dock__btn:nth-child(2){background:linear-gradient(90deg, var(--wa-1) 0%, var(--wa-2) 100%); color:#042016}
.dock__badge{
  position:absolute; right:-6px; top:-6px; background:#ff6b6b; color:#001018;
  font-weight:800; font-size:.75rem; line-height:1; border-radius:999px; padding:.35rem .45rem;
  border:2px solid rgba(10,15,20,.85)
}

/* Utils */
.hidden{display:none !important}

@media (max-width:768px){
  .btn{padding:.54rem .8rem}
  .ratings{margin:1.4rem auto .6rem}
  .foot{margin:1rem auto 4.8rem}
}

/* =========================================================
   === EXIT ANIMATIONS (tools) — AJOUT =====================
   Chaque outil qui sort vers le HAUT glisse alternativement
   à gauche puis à droite et disparaît en fondu.
   ========================================================= */

/* 1) Keyframes */
@keyframes tool-exit-left {
  to {
    transform: translateX(calc(-1 * var(--tool-exit-dx))) translateZ(0);
    opacity: 0;
    filter: blur(2px);
  }
}
@keyframes tool-exit-right {
  to {
    transform: translateX(var(--tool-exit-dx)) translateZ(0);
    opacity: 0;
    filter: blur(2px);
  }
}

/* 2) États d’animation (forwards = garde le dernier état) */
.tool--exit-left{
  animation: tool-exit-left var(--tool-exit-dur) var(--tool-exit-ease) forwards;
  will-change: transform, opacity;
}
.tool--exit-right{
  animation: tool-exit-right var(--tool-exit-dur) var(--tool-exit-ease) forwards;
  will-change: transform, opacity;
}

/* 3) Option : retirer du flux après l’anim (nécessite JS: animationend) */
.tool--gone{ display:none !important }

/* 4) Accessibilité : réduire le mouvement si demandé */
@media (prefers-reduced-motion: reduce){
  .tool--exit-left,
  .tool--exit-right{
    animation: none !important;
    opacity: 0;
  }
}
