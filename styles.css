/* =========================================================
   Pirates Tools — styles.css (FULL, fusion propre)
   ========================================================= */

/* -------------------- Thème -------------------- */
:root{
  --bg:#0a0f14; --panel:#0e151c; --card:#121b24; --fg:#e6edf5; --muted:#9fb4c5; --border:#22303b;
  --brand:#19d3ff; --brand-2:#00e1b4; --wa-1:#25d366; --wa-2:#128c7e;
  --radius:14px; --shadow:0 10px 24px rgba(0,0,0,.35);

  /* Réglage de l’écart initial sous le hero (négatif = la liste remonte) */
  --hero-gap-desktop:-18vh;
  --hero-gap-mobile:-24vh;
}

*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0;
  background:
    radial-gradient(60% 40% at 50% 30%, rgba(25,211,255,.08), transparent 70%),
    linear-gradient(180deg, #0a0f14 0%, #06141b 100%);
  color:var(--fg);
  font:400 16px/1.6 system-ui,-apple-system,BlinkMacSystemFont,"Inter","Segoe UI",Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
a{color:inherit;text-decoration:none}
a:focus-visible,button:focus-visible{outline:2px solid var(--brand); outline-offset:2px; border-radius:10px}
.container{width:min(1100px,92vw); margin:0 auto; position:relative; z-index:2}

/* -------------------- TOPBAR -------------------- */
.topbar{
  position:sticky; top:0; inset-inline:0; z-index:100;
  display:grid; grid-template-columns:auto auto 1fr auto;
  align-items:center; gap:.8rem;
  padding:.7rem .9rem;
  background:rgba(10,15,20,.72);
  -webkit-backdrop-filter:blur(10px); backdrop-filter:blur(10px);
  border-bottom:1px solid var(--border);
}
.topbar-logo-link{display:flex; align-items:center}
.topbar-logo{height:28px; width:auto; display:block; filter:drop-shadow(0 2px 6px rgba(0,0,0,.35))}
@media (max-width:768px){ .topbar-logo{height:24px} }

.brand{font-weight:800; letter-spacing:.2px; color:#fff}
.nav{display:flex; gap:.5rem; justify-content:center}
.chip{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:.42rem .9rem; border-radius:999px;
  background:rgba(255,255,255,.04); border:1px solid var(--border); color:#d9e3ec;
  box-shadow: inset 0 -1px 0 rgba(255,255,255,.05);
}
.chip:hover{background:rgba(255,255,255,.07)}
.cta{display:flex; gap:.6rem; align-items:center}
.btn{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.58rem .9rem; border-radius:12px; font-weight:700;
  color:#001018; border:0; cursor:pointer; box-shadow:var(--shadow);
}
.btn-call{ background:linear-gradient(90deg, var(--brand) 0%, #7cf4ff 100%) }
.btn-wa{   background:linear-gradient(90deg, var(--wa-1) 0%, var(--wa-2) 100%); color:#042016 }
.btn:active{transform:translateY(1px)}
@media (max-width:960px){ .topbar{grid-template-columns:auto 1fr auto; gap:.6rem} .nav{display:none} }

/* -------------------- HERO (zoom + fondu) -------------------- */
/* Le hero est sticky (plein écran) et passe SOUS la liste quand il a fini */
.hero-full{
  position:sticky; top:0; height:100vh; inset-inline:0;
  display:grid; place-items:center;
  isolation:isolate;               /* plan isolé (isolation = séparer le calque) */
  z-index:80;                      /* au-dessus au départ */
  pointer-events:none;             /* ne bloque pas les clics (pointer-events = ignorer les clics) */
}
.hero-out{ z-index:-1; }           /* sous les articles après l’anim */

.hero-logo{
  width:min(78vmin,680px); height:auto;
  transform: translate3d(0, var(--heroY, 0), 0) scale(var(--heroScale, 1));
  opacity: var(--heroAlpha, 1);
  transform-origin:center;
  will-change:transform, opacity;   /* hint perf (will-change = optimisation) */
  filter:drop-shadow(0 22px 44px rgba(0,0,0,.45));
  transition: opacity .22s linear;
}

/* Dégradé de séparation — TOUJOURS derrière (z-index négatif) */
.hero-fade{
  position:absolute; inset:auto 0 0 0; height:24vh;
  background:linear-gradient(180deg, rgba(10,15,20,0) 0%, rgba(10,15,20,.85) 60%, var(--bg) 100%);
  pointer-events:none;
  z-index:-1;                      /* jamais au-dessus du contenu */
  opacity:.65; transition:opacity .25s linear;
}
body.after-hero .hero-fade{ opacity:0; }

/* Espace contrôlé (réduit) sous le hero pour rapprocher la liste */
main.container{ margin-top:var(--hero-gap-desktop) }
@media (max-width:768px){ main.container{ margin-top:var(--hero-gap-mobile) } }

/* -------------------- Liste + anti-chevauchement -------------------- */
/* Réserve élastique au-dessus de la liste (pilotée par le JS avec --listGap) */
.list{
  position:relative; z-index:10;
  display:grid; gap:1rem;
}
.list::before{
  content:""; display:block; height:var(--listGap, 14vh);
  transition:height .25s ease-out;
}
body.after-hero .list::before{ height:0; }

/* -------------------- Toolbar (recherche/filtre) -------------------- */
/* FIX : la toolbar reste AU-DESSUS des cartes (z-index 90 > list 10) */
.toolbar{
  position:relative; z-index:90;
  width:min(1100px,92vw); margin:0 auto 1rem; padding:.4rem 0;
  display:grid; grid-template-columns:1fr 140px; gap:.6rem;
}
.search,.select{
  background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
  border:1px solid var(--border); border-radius:12px; color:var(--fg);
  padding:.85rem .9rem; box-shadow: inset 0 1px 0 rgba(255,255,255,.04);
}
.search::placeholder{color:#7f94a5}

/* -------------------- Cartes produits -------------------- */
.card{
  background:var(--card); border:1px solid var(--border); border-radius:var(--radius);
  box-shadow:var(--shadow); overflow:hidden; position:relative;
  cursor:pointer; /* clic possible pour ouvrir sur mobile */
}
.card .head{
  display:flex; align-items:center; justify-content:space-between;
  padding:1rem 1.1rem .6rem; border-bottom:1px solid rgba(255,255,255,.04);
}
.title{margin:0; font-size:1.05rem}
.badge{
  display:inline-flex; align-items:center; padding:.35rem .7rem;
  border-radius:999px; font-weight:700; color:#cfeaf8;
  background:linear-gradient(180deg, rgba(25,211,255,.18), rgba(25,211,255,.06));
  border:1px solid rgba(25,211,255,.35);
}
.specs{display:flex; flex-wrap:wrap; gap:.5rem 1rem; padding:1rem 1.1rem}
.actions{display:flex; gap:.6rem; padding:0 1.1rem 1.1rem}
.btn.primary{ background:linear-gradient(90deg, var(--brand) 0%, var(--brand-2) 100%); color:#001018; font-weight:800; padding:.7rem .95rem; border-radius:12px }

/* Accent visuel léger au survol/focus (focus-within = focus clavier à l’intérieur) */
.card:focus-within,
.card:hover{
  outline:0;
  box-shadow:0 0 0 2px rgba(25,211,255,.25) inset;
}

/* Sur mobile : on replie la description et on l’ouvre quand la carte a .is-open */
@media (max-width:768px){
  .card .specs{
    max-height:0;
    overflow:hidden;
    transition:max-height .28s ease;
  }
  .card.is-open .specs{
    max-height:480px; /* assez pour une fiche courte */
  }
}

/* -------------------- Avis & Footer -------------------- */
.ratings{
  margin:2rem auto 1rem; width:min(1100px,92vw);
  background:var(--panel); border:1px solid var(--border); border-radius:var(--radius);
  padding:1rem 1.1rem; box-shadow:var(--shadow)
}
.ratings h2{margin:0 0 .5rem; font-size:1.05rem}
.ratings__list{margin:0; padding-left:1.1rem}

.foot{
  width:min(1100px,92vw); margin:1.5rem auto 3.5rem; color:var(--muted);
  border-top:1px solid var(--border); padding-top:1rem; font-size:.95rem;
}
.foot__grid{display:grid; gap:1.2rem; grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}

/* -------------------- Dock mobile -------------------- */
.dock{
  position:fixed; left:50%; bottom:14px; transform:translateX(-50%);
  display:flex; gap:.6rem; align-items:center;
  padding:.4rem .5rem; border-radius:999px; z-index:110;
  background:rgba(10,15,20,.66); -webkit-backdrop-filter:blur(8px); backdrop-filter:blur(8px);
  border:1px solid var(--border); box-shadow:var(--shadow);
}
.dock__btn{
  width:40px; height:40px; display:grid; place-items:center; border-radius:12px;
  background:rgba(255,255,255,.06); color:#d9e9f2; border:1px solid rgba(255,255,255,.08)
}
.dock__btn:active{transform:translateY(1px)}
.dock__btn:nth-child(1){background:linear-gradient(90deg, var(--brand) 0%, #7cf4ff 100%); color:#001018}
.dock__btn:nth-child(2){background:linear-gradient(90deg, var(--wa-1) 0%, var(--wa-2) 100%); color:#042016}
.dock__badge{
  position:absolute; right:-6px; top:-6px; background:#ff6b6b; color:#001018;
  font-weight:800; font-size:.75rem; line-height:1; border-radius:999px; padding:.35rem .45rem;
  border:2px solid rgba(10,15,20,.85)
}

/* -------------------- Utils & Responsive -------------------- */
.hidden{display:none !important}

@media (max-width:768px){
  .btn{padding:.54rem .8rem}
  .ratings{margin:1.4rem auto .6rem}
  .foot{margin:1rem auto 4.8rem}
}
